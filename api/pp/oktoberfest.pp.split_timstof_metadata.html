

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>oktoberfest.pp.split_timstof_metadata &mdash; Oktoberfest 0.9.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom_cookietemple.css?v=494d5358" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=39bb1c6d"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="oktoberfest.pp.filter_peptides" href="oktoberfest.pp.filter_peptides.html" />
    <link rel="prev" title="oktoberfest.pp.convert_timstof_metadata" href="oktoberfest.pp.convert_timstof_metadata.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/Oktoberfest.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage Principles</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../API.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../API.html#data-data">Data: <code class="code docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../API.html#module-oktoberfest.pp">Preprocessing: <code class="code docutils literal notranslate"><span class="pre">pp</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../API.html#generating-libraries">Generating libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../API.html#spectra-preprocessing">Spectra preprocessing</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../API.html#peptide-preprocessing">Peptide preprocessing</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.convert_search.html">oktoberfest.pp.convert_search</a></li>
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.load_search.html">oktoberfest.pp.load_search</a></li>
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.split_search.html">oktoberfest.pp.split_search</a></li>
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.convert_timstof_metadata.html">oktoberfest.pp.convert_timstof_metadata</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">oktoberfest.pp.split_timstof_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.filter_peptides.html">oktoberfest.pp.filter_peptides</a></li>
<li class="toctree-l4"><a class="reference internal" href="oktoberfest.pp.filter_peptides_for_model.html">oktoberfest.pp.filter_peptides_for_model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../API.html#module-oktoberfest.pr">Predicting: <code class="code docutils literal notranslate"><span class="pre">pr</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../API.html#module-oktoberfest.re">Rescoring: <code class="code docutils literal notranslate"><span class="pre">re</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../API.html#module-oktoberfest.pl">Plotting: <code class="code docutils literal notranslate"><span class="pre">pl</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">How to cite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Oktoberfest</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../API.html">API</a></li>
      <li class="breadcrumb-item active">oktoberfest.pp.split_timstof_metadata</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/wilhelm-lab/oktoberfest/tree/development/oktoberfest/preprocessing/preprocessing.py#L788-L851" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="oktoberfest-pp-split-timstof-metadata">
<h1>oktoberfest.pp.split_timstof_metadata<a class="headerlink" href="#oktoberfest-pp-split-timstof-metadata" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="oktoberfest.pp.split_timstof_metadata">
<span class="sig-prename descclassname"><span class="pre">oktoberfest.pp.</span></span><span class="sig-name descname"><span class="pre">split_timstof_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timstof_metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#oktoberfest.pp.split_timstof_metadata" title="Link to this definition"></a></dt>
<dd><p>Split timstof metadata by spectrum file.</p>
<p>Given a list of spectrum file names from which timstof metadata originate the provided timstof metadata are split
and filename specific csv files are written to the provided output directory. The provided file names need to
correspond to the spectrum file identifier in the “RAW_FILE” column of the provided timstof_metadata. The timstof
metadata need to be provided in internal format  #TODO provided documentation.
If the list of file names is not provided, all spectrum file identifiers are considered, otherwise only the
identifiers found in the list are taken into account for writing the individual csv files.
The output file names follow the convention &lt;filename&gt;.timsmeta.
If a file name is not found in the timstof metadata, it is ignored and a warning is printed.
The function returns a list of file names for which timstof metadata are available, removing the ones that were
ignored if a list of file names was provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timstof_metadata</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></span>) – timstof metadata in internal format</p></li>
<li><p><strong>output_dir</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>]</span>) – directory in which to store individual csv files containing the timstof metadata for
individual filenames</p></li>
<li><p><strong>filenames</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]</span>) – optional list of spectrum filenames that should be considered. If not provided, all spectrum file
identifiers in the timstof metadata are considered.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of file names for which timstof metadata could be found</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">oktoberfest</span><span class="w"> </span><span class="kn">import</span> <span class="n">preprocessing</span> <span class="k">as</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timstod_meta</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;RAW_FILE&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;220331_NHG_malignant_CLL_02_Tue39L243_17%_DDA_Rep3&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;220331_NHG_malignant_CLL_02_Tue39L243_17%_DDA_Rep4&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;FRAME&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2733</span><span class="p">,</span><span class="mi">2824</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;PRECURSOR&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2195</span><span class="p">,</span><span class="mi">2299</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;SCAN_NUM_BEGIN&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1416</span><span class="p">,</span><span class="mi">1488</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;SCAN_NUM_END&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1439</span><span class="p">,</span><span class="mi">1511</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;COLLISION_ENERGY&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">26.25</span><span class="p">,</span><span class="mf">24.57</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s2">&quot;SCAN_NUMBER&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8646</span><span class="p">,</span><span class="mi">4879</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">split_timstof_metadata</span><span class="p">(</span><span class="n">timstof_metadata</span><span class="o">=</span><span class="n">timstod_meta</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;./tests/doctests/output/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="oktoberfest.pp.convert_timstof_metadata.html" class="btn btn-neutral float-left" title="oktoberfest.pp.convert_timstof_metadata" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="oktoberfest.pp.filter_peptides.html" class="btn btn-neutral float-right" title="oktoberfest.pp.filter_peptides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Wilhelmlab at Technical University of Munich.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>